function initBcBuilderApp(){const e=document.querySelector(".brx-body").__vue_app__.config.globalProperties.$_state,t=document.querySelector(".brx-body").__vue_app__.config.globalProperties,i=document.getElementById("bricks-toolbar"),s=document.querySelector(".brx-body.main > #bricks-panel"),l=document.getElementById("bricks-panel-inner"),n=(document.getElementById("bricks-panel-element-classes"),document.getElementById("bricks-panel-elements")),a=(document.getElementById("bricks-preview"),document.querySelector(".brx-body.main > #bricks-panel > #bricks-panel-resizable")),c=document.getElementById("bricks-structure"),r=document.getElementById("bricks-builder-iframe"),o=r.contentDocument||r.contentWindow.document,d=["block","container","div","section","accordion","accordion-nested","slider","slider-nested","tabs-nested"];let h,u,p,m,b,v,g,y,f,L,w,x,k,E,C,q,A,T,S,I,$,j,B;"undefined"!=typeof bc_acf_options_page&&(b=bc_acf_options_page.optionSettings),"undefined"!=typeof coreFramework&&(A=coreFramework);const M=[{name:"action-bar",innerText:"",cls:"",label:"Switch to Action Bar",position:"left",icon:"ti-widget"},{name:"section",innerText:"",cls:"",label:"Add new Section",position:"left",icon:"ti-layout-accordion-separated"},{name:"block",innerText:"",cls:"",label:"Add new Block",position:"left",icon:"ti-layout-width-full"},{name:"div",innerText:"",cls:"",label:"Add new Div",position:"left",icon:"ti-layout-width-default-alt"},{name:"heading",innerText:"",cls:"",label:"Add new Heading",position:"left",icon:"ti-text"},{name:"text-basic",innerText:"",cls:"",label:"Add new Basic Text",position:"left",icon:"ti-align-justify"},{name:"text",innerText:"",cls:"",label:"Add new Rich Text",position:"left",icon:"ti-align-left"},{name:"text-link",innerText:"",cls:"",label:"Add new Text Link",position:"left",icon:"ti-link"},{name:"button",innerText:"",cls:"",label:"Add new Button",position:"left",icon:"ti-control-stop"},{name:"icon",innerText:"",cls:"",label:"Add new Icon",position:"left",icon:"ti-star"},{name:"image",innerText:"",cls:"",label:"Add new Image",position:"left",icon:"ti-image"},{name:"list",innerText:"",cls:"",label:"Add new List",position:"left",icon:"ti-list"},{name:"code",innerText:"",cls:"",label:"Add new Code",position:"left",icon:"ion-ios-code"},{name:"template",innerText:"",cls:"",label:"Add new Template",position:"left",icon:"ti-layers"},{name:"shortcode",innerText:"",cls:"",label:"Add new Shortcode",position:"left",icon:"ti-shortcode"}],P=[{name:"new-element-bar",innerText:"",cls:"hide",label:"Switch to Add Element Bar",position:"left",icon:"ti-widget"},{name:"hide-in-frontend",innerText:"HIF",cls:"hide",label:"Highlight Elements with Hide in Frontend",position:"left",icon:""},{name:"hide-in-canvas",innerText:"HIC",cls:"hide",label:"Highlight Elements with Hide in Canvas",position:"left",icon:""},{name:"expand-all-childrens",innerText:"",cls:"show",label:"Expand All Childrens",position:"left",icon:""},{name:"collapse-all-childrens",innerText:"",cls:"hide",label:"Collapse All Childrens",position:"left",icon:""}];if(e.fullAccess&&b?.bc_builder_tweaks?.bc_structure_panel_shortcut){c.setAttribute("data-shortcut-bar","");const e=document.createElement("ul");e.id="bc-right-shortcut-bar",M.forEach((t=>{const i=Z("li",{"data-element-name":t.name,textContent:t.innerText,classList:[],"data-balloon":t.label,"data-balloon-pos":t.position},[Z("i",{classList:[t.icon]})]);e.appendChild(i)})),c.querySelector("main.panel-content").prepend(e)}if(e.fullAccess&&b?.bc_builder_tweaks?.bc_show_hide_elements){let e;o.body.setAttribute("data-show-hide-element",""),c.setAttribute("data-shortcut-bar",""),document.getElementById("bc-right-shortcut-bar")||(e=document.createElement("ul"),e.id="bc-right-shortcut-bar",c.querySelector("main.panel-content").prepend(e)),e=document.getElementById("bc-right-shortcut-bar");const t=e.querySelector('li[data-element-name="action-bar"]');P.forEach(((i,s)=>{if(s<3){const s=t?[i.cls]:[],l=Z("li",{"data-element-name":i.name,textContent:i.innerText,classList:s,"data-balloon":i.label,"data-balloon-pos":i.position},[Z("i")]);i.icon&&l.children[0].classList.add(i.icon),e.appendChild(l)}}))}if(e.fullAccess&&b?.bc_builder_tweaks?.bc_expand_collapse_children){let e;c.setAttribute("data-shortcut-bar",""),document.getElementById("bc-right-shortcut-bar")||(e=document.createElement("ul"),e.id="bc-right-shortcut-bar",c.querySelector("main.panel-content").prepend(e)),e=document.getElementById("bc-right-shortcut-bar");const t=Z("li",{"data-element-name":"toggle-children",classList:e.querySelector('li[data-element-name="action-bar"]')?["hide"]:[]});P.forEach(((e,i)=>{if(i>=3){const s=3===i?'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="bricks-svg"><path d="m9.75 14.248 -9 9" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="m23.25 7.498 0 -6.75 -6.75 0" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="m0.75 16.498 0 6.75 6.75 0" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="m23.25 0.748 -9 9" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>':'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="bricks-svg"><path d="m23.25 0.748 -9 9" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="m9.75 20.998 0 -6.75 -6.75 0" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="m14.25 2.998 0 6.75 6.75 0" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="m9.75 14.248 -9 9" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',l=Z("span",{"data-element-name":e.name,textContent:e.innerText,classList:[e.cls],"data-balloon":e.label,"data-balloon-pos":e.position},`${s}`);t.appendChild(l)}})),e.appendChild(t)}const O=[{cls:["bc-dock-left","hide"],label:"Dock to left",position:"bottom-left",icon:"ti-arrow-left"},{cls:["bc-dock-right","hide"],label:"Dock to right",position:"bottom-right",icon:"ti-arrow-right"}],N=Z("div",{id:"bc-modal",classList:["hide"]},[Z("div",{id:"bc-modal-content"},[Z("div",{classList:["bc-modal-header","hide"]},[Z("li",{classList:O[0].cls,"data-balloon":O[0].label,"data-balloon-pos":O[0].position},[Z("i",{classList:[O[0].icon]})]),Z("li",{classList:O[1].cls,"data-balloon":O[1].label,"data-balloon-pos":O[1].position},[Z("i",{classList:[O[1].icon]})])]),Z("div",{classList:["bc-modal-body"]}),Z("div",{classList:["bc-modal-footer","hide"]})])]);document.body.children[0].appendChild(N),g=document.getElementById("bc-modal"),y=g.querySelector(".bc-modal-header"),L=g.querySelector(".bc-modal-body"),f=g.querySelector(".bc-modal-footer"),document.addEventListener("keydown",(function(t){"Escape"===t.key&&t.isTrusted&&e.fullAccess&&(t.stopImmediatePropagation(),Q())})),g.addEventListener("mousedown",J),g.addEventListener("click",J);const F='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="bricks-svg"><path d="M22.19 1.81a3.639 3.639 0 0 0 -5.17 0.035l-14.5 14.5L0.75 23.25l6.905 -1.771 14.5 -14.5a3.637 3.637 0 0 0 0.035 -5.169Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="m16.606 2.26 5.134 5.134" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="m2.521 16.344 5.139 5.13" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>';if(e.fullAccess&&b?.bc_builder_tweaks?.bc_query_manager){C=bc_query_manager.queriesArgs&&Object.keys(bc_query_manager.queriesArgs).length>0?bc_query_manager.queriesArgs:{},q=bc_query_manager.queriesTags&&bc_query_manager.queriesTags.length>0?bc_query_manager.queriesTags:[];const e=Z("div",{classList:["bc-query-save","hide"]},[Z("p",{classList:["bc-query-save-title"],textContent:"Title"}),Z("input",{type:"text",autocomplete:"off",spellcheck:"off",id:"bc-query-save-title",placeholder:"New query name here..."}),Z("p",{classList:["bc-query-save-tag"],textContent:"New Category/Tag"}),Z("input",{type:"text",autocomplete:"off",spellcheck:"off",id:"bc-query-save-tag",placeholder:""}),Z("p",{classList:["bc-query-save-tag-select"],textContent:"Select Existing Category/Tag"}),Z("div",{type:"select",tabindex:0,classList:["tags"],"data-control":"select"},[D(),z()]),Z("p",{classList:["bc-query-save-desc"],textContent:"Description"}),Z("textarea",{classList:["bc-query-save-desc"],placeholder:"New query description here..."}),Z("p",{textContent:"Note: Save current query control settings as new query settings record."})]),t=Z("div",{classList:["bc-query-search","hide"]},[Z("p",{textContent:"Filter by Category/Tag"}),Z("div",{type:"select",tabindex:0,classList:["tags"],"data-control":"select"},[D(),z()]),Z("p",{textContent:"Select from query settings records"}),Z("div",{type:"select",tabindex:0,classList:["title"],"data-control":"select"},[D(),z()]),Z("p",{textContent:"Query Description"}),Z("div",{classList:["query-desc"]},[Z("textarea",{classList:["bc-query-search-desc","disabled"]}),Z("span",{classList:["bricks-svg-wrapper","edit","hide"]},`${F}`)]),Z("p",{textContent:'Note:\n1) "Apply" – Choose a query settings record and click "Apply" to load its settings into the query controls.\n2) "Apply & Update" – Modify the current query settings record, including query controls, name, or description, then click "Apply & Update" to save the changes and update all instances with the same query ID across the entire site.'})]),i=Z("div",{classList:["bc-query-args","hide"]},[Z("p",{textContent:"Preview Selected Query Settings"}),Z("textarea",{spellcheck:"false",autocomplete:"off"}),Z("button",{classList:["close-settings","hide"],textContent:"Close"})]);L=g.querySelector(".bc-modal-body"),L.appendChild(e),L.appendChild(t),L.appendChild(i),f=g.querySelector(".bc-modal-footer"),f.appendChild(Z("button",{classList:["save","hide"],textContent:"Save"})),f.appendChild(Z("button",{classList:["apply","hide"],disabled:"disabled",textContent:"Apply"})),f.appendChild(Z("button",{classList:["apply-save","hide"],disabled:"disabled",textContent:"Apply & Update"}));const s=Z("div",{classList:["bc-query-confirmation","hide"]},[Z("p",{textContent:"You are updating the query record with the current settings, this will update across entire site. Are you sure want to proceed?"}),Z("button",{classList:["update-query"],textContent:"Yes"}),Z("button",{classList:["abort-update-query"],textContent:"No"})]);if(g.appendChild(s),w=g.querySelector(".bc-query-save"),x=g.querySelector(".bc-query-search"),k=g.querySelector(".bc-query-args"),"undefined"!=typeof cm_settings){var H=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{};H.codemirror=_.extend({},H.codemirror,cm_settings.codemirror),E=wp.codeEditor.initialize(k.children[1],H);const e=E.codemirror.display;e.wrapper.classList.remove("cm-s-default"),e.wrapper.classList.add("cm-s-one-dark"),e.wrapper.style.clipPath="inset(0px)",e.gutters.children[1].style.width="29px",e.scrollbars.vert.setAttribute("tabindex","-1"),e.scrollbars.horiz.setAttribute("tabindex","-1"),e.scroller.setAttribute("tabindex","-1"),e.sizer.style.marginLeft="45px",E.codemirror.options.readOnly=!0,E.settings.codemirror.lint=!1}}if(e.fullAccess&&A&&b?.bc_classes_variables?.bc_core_integration){if(b?.bc_classes_variables?.bc_core_theme_toggle){const e='<svg height="24px" width="24px" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" fill="currentColor"><g stroke-width="0"/><g stroke-linecap="round" stroke-linejoin="round"/><g> <style type="text/css"> .st0{fill:currentColor;} </style> <g> <path class="st0" d="M255.996,127.577c-70.925,0-128.42,57.495-128.42,128.42c0,70.933,57.496,128.428,128.42,128.428 s128.428-57.495,128.428-128.428C384.424,185.072,326.921,127.577,255.996,127.577z"/> <path class="st0" d="M512,255.996c-78.109-49.042-98.052-93.51-75.065-180.932c-87.414,22.995-131.89,3.036-180.939-75.057 c-49.042,78.093-93.51,98.052-180.932,75.057C98.06,162.487,78.109,206.954,0,255.996c78.109,49.049,98.06,93.525,75.065,180.939 c87.422-22.987,131.89-3.036,180.932,75.057c49.049-78.093,93.525-98.044,180.939-75.057 C413.948,349.522,433.891,305.046,512,255.996z M255.996,423.766c-92.666,0-167.762-75.112-167.762-167.77 c0-92.65,75.096-167.762,167.762-167.762c92.65,0,167.769,75.112,167.769,167.762C423.766,348.654,348.646,423.766,255.996,423.766 z"/> </g> </g></svg>',t=Z("li",{classList:["core-theme-mode-toggle"],"data-balloon":"Core Framework Light/Dark mode preview","data-balloon-pos":"bottom"},[Z("span",{classList:["bricks-svg-wrapper","dark"]},`${'<svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g stroke-width="0"/><g stroke-linecap="round" stroke-linejoin="round"/><g><path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></g></svg>'}`),Z("span",{classList:["bricks-svg-wrapper","light","hide"]},`${e}`)]);i.children[0].append(t)}T=A.classes&&A.classes.length>0?A.classes:[],S=A.variables&&Object.keys(A.variables).length>0?A.variables:{},I=A.variables_pair&&Object.keys(A.variables_pair).length>0?A.variables_pair:{};const e=Z("div",{type:"select",tabindex:0,classList:["select-framework"],"data-control":"select"},[D(),z()]),t=Z("li",{"data-index":0,"data-selected-framwork":"coreframework"},[Z("span",{textContent:"Core Framework"})]);e.children[0].children[0].textContent="Core Framework",e.children[0].children[0].classList.add("input-value"),e.querySelector("#query-name").remove(),e.querySelector("ul.dropdown").appendChild(t),y.prepend(e);const s=Z("div",{classList:["bc-core-variables","hide"]},[Z("div",{classList:["accordion","js-accordion"]})]);if(S&&Object.keys(S).length>0){for(const e in S){const t=e.replace("Styles",""),i=t.charAt(0).toUpperCase()+t.slice(1),l=Z("div",{classList:["accordion__item","js-accordion-item"]},[Z("div",{classList:["accordion-header","js-accordion-header"],textContent:i})]),n=Z("div",{classList:["accordion-body","js-accordion-body"]},[Z("div",{classList:["accordion","js-accordion"],"data-group":i})]),a=S[e];for(const e in a){const t=e.replace("Styles",""),c=Z("div",{classList:["accordion__item","accordion__sub_item","js-accordion-item"]},[Z("div",{classList:["accordion-header","js-accordion-header"],textContent:`-${t.charAt(0).toUpperCase()+t.slice(1)}`})]),r=Z("div",{classList:["accordion-body","js-accordion-body"]},[Z("ul",{classList:["accordion-body__contents"]})]),o=r.children[0];a[e].forEach((e=>{const t=Object.keys(I).length>0?I[`--${e}`]:"",s="Color"!==i||e.includes("-")?{}:{"data-color-base":e},l="Color"!==i||e.includes("-")?"54px":"100%",n=Z("li",{classList:["bc-core-variable"],"data-variables-name":`var(--${e})`,...s},[Z("span","Color"===i?{style:`--${e}: ${t}; background-color: var(--${e}); display: block; width: ${l}; height: 26px; border-radius: 4px;`,"data-balloon":`${e}`,"data-balloon-pos":"bottom"}:{textContent:`${e}`,"data-balloon":I[`--${e}`],"data-balloon-pos":"bottom"})]);o.appendChild(n)})),c.appendChild(r),n.children[0].appendChild(c),l.appendChild(n),s.children[0].appendChild(l)}}g.children[0].children[1].append(s)}$=g.querySelector(".bc-core-variables"),j=$&&$.children[0]?$.children[0].children:null,$&&b?.bc_builder_tweaks?.bc_preview_class_variables&&($.addEventListener("mouseover",R),$.addEventListener("mouseout",R),$.addEventListener("mouseleave",R))}if(b?.bc_builder_tweaks?.bc_slim_left_panel){const e='<li class="expand hide" data-balloon="Expand (All)" data-balloon-pos="bottom-right"><span class="bricks-svg-wrapper"><svg version="1.1" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="bricks-svg"><g fill="currentColor" fill-rule="evenodd"><path d="M2,8l5.32907e-15,7.54979e-08c-4.16963e-08,-0.276142 0.223858,-0.5 0.5,-0.5h11l-2.18557e-08,8.88178e-16c0.276142,-1.20706e-08 0.5,0.223858 0.5,0.5c1.20706e-08,0.276142 -0.223858,0.5 -0.5,0.5h-11l-2.78181e-08,-3.55271e-15c-0.276142,-4.49893e-08 -0.5,-0.223858 -0.5,-0.5Zm6,-1.5l-2.18557e-08,-8.88178e-16c0.276142,1.20706e-08 0.5,-0.223858 0.5,-0.5v-4.5v0c0,-0.276142 -0.223858,-0.5 -0.5,-0.5c-0.276142,0 -0.5,0.223858 -0.5,0.5v4.5l5.32907e-15,7.54979e-08c4.16963e-08,0.276142 0.223858,0.5 0.5,0.5Z"></path><path d="M10.354,3.854l2.23014e-08,-2.2245e-08c0.195509,-0.195015 0.195909,-0.511597 0.000893739,-0.707106c-0.000297551,-0.000298304 -0.000595479,-0.000596232 -0.000893784,-0.000893784l-2,-2l4.41373e-09,4.4249e-09c-0.195015,-0.195509 -0.511597,-0.195909 -0.707106,-0.000893793c-0.000298304,0.000297551 -0.000596232,0.000595479 -0.000893784,0.000893784l-2,2l-2.1107e-09,2.1107e-09c-0.195509,0.195509 -0.195509,0.512491 4.22141e-09,0.708c0.195509,0.195509 0.512491,0.195509 0.708,-4.22141e-09l1.646,-1.647l1.646,1.647l-3.52833e-08,-3.53726e-08c0.195015,0.195509 0.511597,0.195909 0.707106,0.000893854c0.000298304,-0.000297551 0.000596233,-0.000595479 0.000893784,-0.000893784Zm-2.354,5.646h-2.18557e-08c0.276142,-1.20706e-08 0.5,0.223858 0.5,0.5v4.5v0c0,0.276142 -0.223858,0.5 -0.5,0.5c-0.276142,0 -0.5,-0.223858 -0.5,-0.5v-4.5l5.32907e-15,7.54979e-08c-4.16963e-08,-0.276142 0.223858,-0.5 0.5,-0.5Z"></path><path d="M10.354,12.146l2.23014e-08,2.2245e-08c0.195509,0.195015 0.195909,0.511597 0.000893739,0.707106c-0.000297551,0.000298304 -0.000595479,0.000596232 -0.000893784,0.000893784l-2,2l4.41373e-09,-4.4249e-09c-0.195015,0.195509 -0.511597,0.195909 -0.707106,0.000893793c-0.000298304,-0.000297551 -0.000596232,-0.000595479 -0.000893784,-0.000893784l-2,-2l-2.1107e-09,-2.1107e-09c-0.195509,-0.195509 -0.195509,-0.512491 4.22141e-09,-0.708c0.195509,-0.195509 0.512491,-0.195509 0.708,4.22141e-09l1.646,1.647l1.646,-1.647l-3.52833e-08,3.53726e-08c0.195015,-0.195509 0.511597,-0.195909 0.707106,-0.000893854c0.000298304,0.000297551 0.000596233,0.000595479 0.000893784,0.000893784Z"></path></g></svg></span></li>',t='<li class="collapse" data-balloon="Collapse (All)" data-balloon-pos="bottom-right"><span class="bricks-svg-wrapper"><svg version="1.1" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="bricks-svg"><g fill="currentColor" fill-rule="evenodd"><path d="M2,8l5.32907e-15,7.54979e-08c-4.16963e-08,-0.276142 0.223858,-0.5 0.5,-0.5h11l-2.18557e-08,8.88178e-16c0.276142,-1.20706e-08 0.5,0.223858 0.5,0.5c1.20706e-08,0.276142 -0.223858,0.5 -0.5,0.5h-11l-2.78181e-08,-3.55271e-15c-0.276142,-4.49893e-08 -0.5,-0.223858 -0.5,-0.5Zm6,-7h-2.18557e-08c0.276142,-1.20706e-08 0.5,0.223858 0.5,0.5v4.5v0c0,0.276142 -0.223858,0.5 -0.5,0.5c-0.276142,0 -0.5,-0.223858 -0.5,-0.5v-4.5l5.32907e-15,7.54979e-08c-4.16963e-08,-0.276142 0.223858,-0.5 0.5,-0.5Z"></path><path d="M10.354,3.646l2.23014e-08,2.2245e-08c0.195509,0.195015 0.195909,0.511597 0.000893739,0.707106c-0.000297551,0.000298304 -0.000595479,0.000596232 -0.000893784,0.000893784l-2,2l4.41373e-09,-4.4249e-09c-0.195015,0.195509 -0.511597,0.195909 -0.707106,0.000893793c-0.000298304,-0.000297551 -0.000596232,-0.000595479 -0.000893784,-0.000893784l-2,-2l-2.1107e-09,-2.1107e-09c-0.195509,-0.195509 -0.195509,-0.512491 4.22141e-09,-0.708c0.195509,-0.195509 0.512491,-0.195509 0.708,4.22141e-09l1.646,1.647l1.646,-1.647l-3.52833e-08,3.53726e-08c0.195015,-0.195509 0.511597,-0.195909 0.707106,-0.000893854c0.000298304,0.000297551 0.000596233,0.000595479 0.000893784,0.000893784Zm-2.354,11.354h-2.18557e-08c0.276142,1.20706e-08 0.5,-0.223858 0.5,-0.5v-4.5v0c0,-0.276142 -0.223858,-0.5 -0.5,-0.5c-0.276142,0 -0.5,0.223858 -0.5,0.5v4.5l5.32907e-15,7.54979e-08c4.16963e-08,0.276142 0.223858,0.5 0.5,0.5Z"></path><path d="M10.354,12.354l2.23014e-08,-2.2245e-08c0.195509,-0.195015 0.195909,-0.511597 0.000893739,-0.707106c-0.000297551,-0.000298304 -0.000595479,-0.000596232 -0.000893784,-0.000893784l-2,-2l4.41373e-09,4.4249e-09c-0.195015,-0.195509 -0.511597,-0.195909 -0.707106,-0.000893793c-0.000298304,0.000297551 -0.000596232,0.000595479 -0.000893784,0.000893784l-2,2l-2.1107e-09,2.1107e-09c-0.195509,0.195509 -0.195509,0.512491 4.22141e-09,0.708c0.195509,0.195509 0.512491,0.195509 0.708,-4.22141e-09l1.646,-1.647l1.646,1.647l-3.52833e-08,-3.53726e-08c0.195015,0.195509 0.511597,0.195909 0.707106,0.000893854c0.000298304,-0.000297551 0.000596233,-0.000595479 0.000893784,-0.000893784Z"></path></g></svg></span></li>',i=l.querySelector("#bricks-panel-header"),s=Z("div",{id:"bc-category-toggle"},`${e}${t}`);l.setAttribute("data-slim-panel",""),i.append(s)}if(b?.bc_builder_tweaks?.bc_preview_class_variables||A&&b?.bc_classes_variables?.bc_core_integration){const e=Z("style",{id:"bc_hover_preview"});o.body.children[0].insertBefore(e,o.getElementById("brx-content")),m=o.getElementById("bc_hover_preview")}function Z(e,t={},i=[]){const s=document.createElement(e);for(const[e,i]of Object.entries(t))"classList"===e?i.forEach((e=>s.classList.add(e))):"dataset"===e?Object.assign(s.dataset,i):"textContent"===e?s.innerHTML=i.replace(/\n/g,"<br>"):s.setAttribute(e,i);return"string"==typeof i?s.innerHTML=i:i.forEach((e=>s.appendChild(e))),s}function D(){return Z("div",{classList:["input"]},[Z("span",{classList:["placeholder"],textContent:"select one"}),Z("span",{classList:["bricks-svg-wrapper","clear-selection","hide"]},'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="bricks-svg"><path d="m0.75 23.249 22.5 -22.5" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="M23.25 23.249 0.75 0.749" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>'),Z("span",{classList:["bricks-svg-wrapper","arrow-down"]},'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="bricks-svg"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M23.025 6.64L12.5194 17.1446C12.4512 17.2129 12.3702 17.267 12.2812 17.304C12.192 17.341 12.0964 17.36 12 17.36C11.9036 17.36 11.808 17.341 11.7188 17.304C11.6298 17.267 11.5488 17.2129 11.4806 17.1446L0.975 6.64" stroke-width="2"></path></svg>'),Z("span",{classList:["bricks-svg-wrapper","edit","hide"]},`${F}`),Z("input",{id:"query-name",classList:["hide"]})])}function z(){return Z("div",{classList:["options-wrapper"]},[Z("ul",{classList:["dropdown"]})])}function J(i){const s=i.target;if(i.stopPropagation(),i.stopImmediatePropagation(),"mousedown"===i.type&&(i.isTrusted||"bc-modal"===s.id)){if("bc-modal"===s.id&&Q(),"element"===e.activePanel){const i=e[e.templateType]&&e[e.templateType].length>0?e[e.templateType][0].id:null,l=e[e.templateType]&&e[e.templateType].length>0?e[e.templateType][e[e.templateType].length-1].id:null,n=e.activeId,a=(e.activeElement.settings.query&&e.activeElement.settings.query,s.closest(".placeholder")),c=s.closest('div[type="select"]'),r=s.closest(".tags"),o=s.closest(".title"),h=s.closest("li[data-index]"),u=s.closest(".clear-selection"),p=s.closest("span.edit")&&s.closest(".query-desc"),m=s.closest("span.edit")&&c,b=s.closest(".bc-query-search"),v=s.closest(".bc-query-save"),y=s.classList.contains("save"),_=s.classList.contains("apply"),L=s.classList.contains("apply-save"),q=s.classList.contains("abort-update-query"),A=s.classList.contains("update-query"),T=s.closest(".bc-modal-footer");if(a)b?(c.classList.add("expand"),r?x.children[3].classList.remove("expand"):o&&x.children[1].classList.remove("expand")):v&&r&&""===w.children[3].value.trim()&&w.children[5].classList.add("expand");else if(h){if(c.classList.remove("expand"),b){if(r){const e=h.getAttribute("data-tag"),t=x.children[3].lastChild.lastChild;t.innerHTML="",x.children[1].children[0].children[0].textContent=e,x.children[1].children[0].children[0].classList.add("input-value"),x.children[1].children[0].children[1].classList.remove("hide"),x.children[3].children[0].children[0].textContent="select one",x.children[3].children[0].children[0].classList.remove("input-value"),x.children[3].children[0].children[0].classList.remove("hide"),x.children[3].children[0].children[1].classList.add("hide"),x.children[3].children[0].children[3].classList.add("hide"),x.children[3].children[0].children[4].classList.add("hide"),x.children[5].children[0].value="",x.children[5].children[1].classList.add("hide"),x.children[5].children[0].classList.add("disabled"),W(e,e,t),f.children[1].setAttribute("disabled","disabled"),f.children[2].setAttribute("disabled","disabled")}else if(o){const t=h.children[0].textContent,i=h.getAttribute("data-query-id");if(""===x.children[1].children[0].children[0].textContent){x.children[1].lastChild.lastChild;x.children[1].children[0].children[0].textContent="select one",x.children[1].children[0].children[0].classList.remove("input-value"),x.children[1].children[0].children[1].classList.add("hide")}x.children[3].children[0].children[0].textContent=t,x.children[3].children[0].children[0].classList.add("input-value"),x.children[3].children[0].children[0].setAttribute("data-query-id",i),x.children[3].children[0].children[1].classList.remove("hide"),e.activeElement.settings.query&&e.activeElement.settings._attributes&&e.activeElement.settings._attributes.find((e=>"data-query-id"===e.name))&&(x.children[3].children[0].children[3].classList.remove("hide"),x.children[5].children[1].classList.remove("hide")),x.children[5].classList.add("input-value"),x.children[5].children[0].value=h.getAttribute("data-query-desc"),x.children[5].children[0].classList.add("disabled"),f.children[1].removeAttribute("disabled"),k.classList.remove("hide"),E.codemirror.setValue(JSON.stringify(C[i].query,null,4))}}else if(v&&r){const e=h.getAttribute("data-tag");w.children[5].children[0].children[0].textContent=e,w.children[5].children[0].children[0].classList.add("input-value"),w.children[5].children[0].children[1].classList.remove("hide"),w.children[3].value="",w.children[3].classList.add("disabled")}}else if(u)u.classList.add("hide"),b?r?(x.children[1].children[0].children[0].textContent="select one",x.children[1].children[0].children[0].classList.remove("input-value"),x.children[3].children[0].children[0].textContent="select one",x.children[3].children[0].children[0].classList.remove("input-value","hide"),x.children[3].children[0].children[1].classList.add("hide"),x.children[3].children[0].children[3].classList.add("hide"),x.children[3].children[0].children[4].classList.add("hide"),x.children[5].children[0].value="",x.children[5].children[1].classList.add("hide"),x.children[5].children[0].classList.add("disabled"),x.children[3].lastChild.lastChild.innerHTML="",W("all","",x.children[3].lastChild.lastChild),f.children[1].setAttribute("disabled","disabled"),f.children[2].setAttribute("disabled","disabled")):(x.children[3].children[0].children[0].textContent="select one",x.children[3].children[0].children[0].classList.remove("input-value"),x.children[3].children[0].children[3].classList.add("hide"),x.children[5].children[1].classList.add("hide"),x.children[5].children[0].classList.add("disabled"),f.children[1].setAttribute("disabled","disabled"),f.children[2].setAttribute("disabled","disabled"),x.children[5].children[0].value=""):v&&r&&(w.children[5].children[0].children[0].textContent="select one",w.children[5].children[0].children[0].classList.remove("input-value"),w.children[3].classList.remove("disabled"));else if(s.classList.contains("close-settings"))k.classList.add("hide");else if(y&&T){const i=e.activeElement.settings.query&&Object.keys(e.activeElement.settings.query).length>0?e.activeElement.settings.query:null,s=""!==w.children[1].value.trim()?w.children[1].value:`Element ${e.activeElement.name} (${e.activeElement.id}) - ${e.activeElement.settings.query.objectType} Query`,l=""!==w.children[3].value.trim()?w.children[3].value:w.children[5].children[0].children[0].textContent,n=""!==w.children[7].value.trim()?w.children[7].value:`Element ${e.activeElement.name} (${e.activeElement.id}) - ${e.activeElement.settings.query.objectType} Query At Template ${e.templateType} (${t.bricks.postId}).`,a=e.activeElement.settings._attributes;let c;if(i){c=`qid_bc${t.$_generateId()}`;let i={id:t.$_generateId(),name:"data-query-id",value:c},s={id:t.$_generateId(),name:"data-query-tag",value:l};a&&a.length>0?a&&a.find((e=>"data-query-id"===e.name))?a.forEach((e=>{"data-query-id"===e.name&&(e.value=`qid_bc${t.$_generateId()}`),"data-query-tag"===e.name&&(e.value=l)})):(a.push(i),a.push(s)):(e.activeElement.settings._attributes=[],e.activeElement.settings._attributes.push(i),e.activeElement.settings._attributes.push(s))}U(c,i,s,n,l,"new")}else if(_&&T){const t=e.activeElement.settings._attributes,s=x.children[3].children[0].children[0].getAttribute("data-query-id");G(s?C[s].query:null,t,s,n,i,l,"apply"),x.children[3].children[0].children[3].classList.remove("hide"),x.children[5].children[1].classList.remove("hide")}else if(L&&T)""===x.children[3].children[0].children[4].value.trim()&&("select-one"===x.children[3].children[0].children[0].textContent||""===x.children[3].children[0].children[0].textContent)||""===x.children[5].children[0].value.trim()?t.$_showMessage("Please fill in query name and description"):(g.classList.add("confirm"),g.children[1].classList.remove("hide"));else if(A){const s=""!==x.children[3].children[0].children[4].value.trim()?x.children[3].children[0].children[4].value:x.children[3].children[0].children[0].textContent,a=x.children[5].children[0].value,c=e.activeElement.settings.query&&Object.keys(e.activeElement.settings.query).length>0?e.activeElement.settings.query:null,r=x.children[3].children[0].children[0].getAttribute("data-query-id"),o=C[r].qTag,h=e.activeElement.settings._attributes,u=e[e.templateType]&&e[e.templateType].length>0?e[e.templateType]:[];if(g.classList.add("hide"),x.classList.add("hide"),w.classList.add("hide"),k.classList.add("hide"),g.children[1].classList.add("hide"),g.classList.remove("confirm"),h&&h.find((e=>"data-query-id"===e.name))&&r&&c){if(u)for(let t=0;t<u.length;t++)d.includes(u[t].name)&&u[t].id!==n&&u[t].settings._attributes?u[t].settings._attributes.forEach((s=>{s.value===r&&(e.activeId=u[t].id,setTimeout((()=>{G(c,u[t].settings._attributes,r,n,i,l,"builder")}),5))})):u[t].id===n&&G(c,h,r,n,i,l,"apply");U(r,c,s,a,o,"update")}else t.$_showMessage("Update failed.")}else q?(g.classList.remove("confirm"),g.children[1].classList.add("hide")):p?(x.children[5].children[0].classList.remove("disabled"),f.children[2].removeAttribute("disabled")):m?(x.children[3].children[0].children[4].classList.remove("hide"),x.children[3].children[0].children[4].value=x.children[3].children[0].children[0].textContent,x.children[3].children[0].children[0].classList.add("hide"),f.children[2].removeAttribute("disabled")):(x.children[1].classList.remove("expand"),x.children[3].classList.remove("expand"),w.children[5].classList.remove("expand"))}if(["element","theme-styles","settings-page"].includes(e.activePanel)){const t=s.classList.contains("accordion-header")&&s.parentElement.classList.contains("accordion__item")&&!s.parentElement.classList.contains("accordion__sub_item"),i=s.classList.contains("accordion-header")&&s.parentElement.classList.contains("accordion__sub_item"),l=s.closest(".bc-dock-left"),n=s.closest(".bc-dock-right"),a=s.closest("li.bc-core-variable");if(t){const e=$.children[0].querySelector(".active"),t=s.parentElement;s.parentElement.classList.add("activate"),e&&!e.classList.contains("activate")&&(e.classList.remove("active"),e.children[1].removeAttribute("style")),t.classList.contains("active")?(t.classList.remove("active"),s.nextElementSibling.removeAttribute("style")):(s.parentElement.classList.add("active"),s.nextElementSibling.style.display="block"),s.parentElement.classList.remove("activate")}else if(i){const e=$.children[0].querySelector(".accordion__sub_item.active"),t=s.parentElement;s.parentElement.classList.add("activate"),e&&!e.classList.contains("activate")&&(e.classList.remove("active"),e.children[1].removeAttribute("style")),t.classList.contains("active")?(t.classList.remove("active"),s.nextElementSibling.removeAttribute("style")):(s.parentElement.classList.add("active"),s.nextElementSibling.style.display="block"),s.parentElement.classList.remove("activate")}else if(l){const t=e.panelWidth;g.setAttribute("style","left: 0; width: 100%;"),g.children[0].setAttribute("style",`top: 40px; left: 0; width: ${t}px; height: calc(100% - 40px)`),L.setAttribute("style","height: 100%;"),y.style.width=e.panelWidth-20+32+"px",$.setAttribute("style",`min-width: calc(${t}px - 40px); max-width: calc(${t}px - 40px); max-height: 95%; overflow-x: hidden; --accrd-item: 12px;`),$.children[0].setAttribute("style",`width: calc(${t}px - 40px);`)}else if(n){y.removeAttribute("style");const t=e.panelWidth;g.setAttribute("style",`--panel-width: ${t}px`),g.children[0].removeAttribute("style"),L.removeAttribute("style"),$.removeAttribute("style"),$.children[0].removeAttribute("style")}else a&&u&&(u.value=a.getAttribute("data-variables-name"),u.dispatchEvent(new Event("input")),p=u.value)}}}function Q(){if([g,y,f,x,w,k].forEach((e=>e?.classList.add("hide"))),g.children[0].removeAttribute("style"),L.removeAttribute("style"),$&&($.removeAttribute("style"),$.children[0].removeAttribute("style")),y.hasAttribute("style")&&y.removeAttribute("style"),L.children[3]){const e=L.children[3];e.classList.add("hide"),e.removeAttribute("style");const t=e.querySelector(".accordion__item.active");t&&(t.classList.remove("active"),t.children[1].removeAttribute("style"))}g.style.setProperty("--panel-width",`${e.panelWidth}px`),g.children[0].removeAttribute("style"),L.removeAttribute("style")}function W(e,t,i){Object.entries(C).forEach((([s,l],n)=>{if("all"!==e&&l.qTag===t){const e=Z("li",{"data-index":n,"data-query-id":s,"data-query-tag":l.qTag,"data-query-desc":l.qDesc},[Z("span",{textContent:l.qTitle})]);i.append(e)}if("all"===e){const e=Z("li",{"data-index":n,"data-query-id":s,"data-query-tag":l.qTag,"data-query-desc":l.qDesc},[Z("span",{textContent:l.qTitle})]);i.append(e)}}))}function U(e,i,s,l,n,a){let c,r;"update"===a?c="bc_update_query_settings":"new"===a?c="bc_add_new_query_settings":"all"===a&&(c="bc_refresh_query_settings"),r="update"===a||"new"===a?{action:c,nonce:t.bricks.nonce,data:JSON.stringify(i),qId:e,qName:s,qDesc:l,qTag:n,pid:t.bricks.postId}:{action:c,nonce:t.bricks.nonce,pid:t.bricks.postId},jQuery.ajax({type:"POST",url:bc_builder_ajax.bc_builder_ajax_url,data:r,success:function(e){e.success?"update"===a||"new"===a?(C=e.data.queriesArgs,q=e.data.queriesTags,t.$_showMessage(e.data.message)):(C=e.data.queriesArgs,q=e.data.queriesTags,console.log(e.data.message)):t.$_showMessage(e.data.message)},error:function(e,i,s){console.error("AJAX Error:",i,s),t.$_showMessage("An error occurred while processing the request.")}})}function G(i,s,l,n,a,c,r){if(i){if(s)for(const[e,t]of Object.entries(s))"data-query-id"===t.name?t.value=l:"data-query-tag"===t.name&&(t.value=C[l].qTag);else e.activeElement.settings._attributes=[{id:t.$_generateId(),name:"data-query-id",value:l},{id:t.$_generateId(),name:"data-query-tag",value:C[l].qTag}];"apply"!==r&&"builder"!==r||(e.activeElement.settings.query={},e.activeElement.settings.query=i),a&&n!==a?e.activeId=a:c&&n!==c&&(e.activeId=c),setTimeout((()=>{e.activeId=n}),5)}}function R(e){const t=e.target;if(e.stopPropagation(),e.stopImmediatePropagation(),"mouseover"===e.type&&!0===e.isTrusted&&(u&&(u.dispatchEvent(new Event("input")),p=u.value),u&&t.closest("li.bc-core-variable")&&t.closest("li.bc-core-variable").matches(":hover"))){const e=t.closest("li.bc-core-variable");if(e){const t=e.getAttribute("data-variables-name");u.value=t,u.dispatchEvent(new Event("input"))}}"mouseout"===e.type&&!0===e.isTrusted&&u&&t.closest("li.bc-core-variable")&&(u.value=p,u.dispatchEvent(new Event("input"))),"mouseleave"===e.type&&!0===e.isTrusted&&u&&t.classList.contains("bc-core-variables")&&(u.value=p,u.dispatchEvent(new Event("input")))}function V(i){const s=i.target;if("mousedown"===i.type&&!0===i.isTrusted&&"bricks-panel-resizable"!==s.id){const i="element"===e.activePanel?e.activeElement:null,a="element"===e.activePanel?e.activeElement.settings:null,c="element"===e.activePanel&&e[e.templateType]&&e[e.templateType].length>0?e[e.templateType][0].id:null,r="element"===e.activePanel&&e[e.templateType]&&e[e.templateType].length>0?e[e.templateType][e[e.templateType].length-1].id:null,o="element"===e.activePanel?t.$_getElementNode(e.activeId,"iframe"):null;if(console.log(e,t),setTimeout((()=>{e.isPanelExpanded?g.setAttribute("style","--panel-width: 600px;"):g.setAttribute("style",`--panel-width: ${e.panelWidth}px;`)}),200),A&&e.fullAccess&&s.closest(".variable-picker-button")&&b?.bc_classes_variables?.bc_core_integration){(w&&!w.classList.contains("hide")||x&&!x.classList.contains("hide"))&&Q();if("code"!==s.closest(".variable-picker-button").parentElement.getAttribute("data-control")&&(u=s.closest(".variable-picker-button").parentElement.querySelector("input"),u)){u.dispatchEvent(new Event("input")),p=u.value;const t=e.panelWidth;g.classList.remove("hide"),y.classList.remove("hide"),g.setAttribute("style",`--panel-width: ${t}px`),L.children[3].classList.remove("hide")}}else u=null;if(e.fullAccess&&b?.bc_builder_tweaks?.bc_preview_class_variables&&(s.closest(".variable-picker-button")?setTimeout((()=>{const e=s.closest(".variable-picker-button").nextElementSibling,t=s.closest(".variable-picker-button").parentElement;e&&e.classList.contains("expand")?(e.children[0].lastChild.classList.add("css-variables"),"code"!==t.getAttribute("data-control")&&(u=t.querySelector("input"),p=u?u.value:""),e.children[0].lastChild.removeEventListener("mouseover",Y),e.children[0].lastChild.removeEventListener("mouseout",Y),e.children[0].lastChild.removeEventListener("mouseleave",Y),e.children[0].lastChild.addEventListener("mouseover",Y),e.children[0].lastChild.addEventListener("mouseout",Y),e.children[0].lastChild.addEventListener("mouseleave",Y)):(u=null,p=null)}),250):s.closest("span.color-value-tooltip")&&s.closest(".bricks-control-preview")&&setTimeout((()=>{if(s.closest(".bricks-control-preview").nextElementSibling&&s.closest(".bricks-control-preview").nextElementSibling.classList.contains("bricks-control-popup")&&(p=s.closest("span.color-value-tooltip").hasAttribute("data-balloon")?s.closest("span.color-value-tooltip").getAttribute("data-balloon"):null,s.closest(".bricks-control-preview").nextElementSibling&&s.closest(".bricks-control-preview").nextElementSibling.classList.contains("bricks-control-popup"))){const e=s.closest(".bricks-control-preview").nextElementSibling.children[0];e.removeEventListener("mouseover",Y),e.removeEventListener("mouseout",Y),e.removeEventListener("mouseleave",Y),e.removeEventListener("mousedown",Y),e.addEventListener("mouseover",Y),e.addEventListener("mouseout",Y),e.addEventListener("mouseleave",Y),e.addEventListener("mousedown",Y),u=s.closest(".bricks-control-preview").nextElementSibling.children[2].children[0].children[0].children[0],p=s.closest("span.color-value-tooltip").hasAttribute("data-balloon")?s.closest("span.color-value-tooltip").getAttribute("data-balloon"):null}}),250)),b?.bc_native_bricks_elements_plus?.bc_slider_nested_plus&&i&&"slider-nested"===i.name&&e.fullAccess&&(!a.optionsType||a.optionsType&&"custom"!==a.optionsType)){let e,i;"thumbSliderId"===s.id&&"INPUT"===s.tagName&&(e=s.value);const l=s.closest('div[data-control="checkbox"]'),n=s.closest('div[data-controlkey="thumbIsNavigation"]'),c=s.closest('div[data-controlkey="enableSync"]');if(l&&n&&!a.thumbIsNavigation?(e=a.thumbSliderId,i=t.$_getElementObject(e),"object"==typeof i&&Object.keys(i).length>0?(i.settings.isNavigation=!0,t.$_showMessage("options updated successfully.")):t.$_showMessage("Invalid Thumb Slider Id, please try again")):l&&n&&a.thumbIsNavigation?(e||(e=a.thumbSliderId),i=t.$_getElementObject(e),"object"==typeof i&&Object.keys(i).length>0&&delete i.settings.isNavigation):l&&c&&a.enableSync&&c&&delete a.thumbIsNavigation,s.closest(".control-group-title")&&(s.closest('li:not(.open)[data-control-group="pagination"]')||s.closest('li:not(.open)[data-control-group="autoplayToggleGrp"]')||s.closest('li:not(.open)[data-control-group="progressBarGrp"]'))){if(a.enableProgress&&!o.querySelector(".splide__slide__progress")){const e=Z("div",{classList:["splide__progress","splide__slide__progress"]},[Z("div",{classList:["splide__slide__progress__bar"]})]);o.prepend(e)}if(a.transitionProgress&&!o.querySelector(".splide__transition__progress")){const e=Z("div",{classList:["splide__progress","splide__transition__progress"]},[Z("div",{classList:["splide__transition__progress__bar"]})]);o.prepend(e)}if(a.fractionPagination&&!o.querySelector(".splide__pagination__fraction")){const e=Z("div",{classList:["splide__pagination__fraction"]},[Z("span",{classList:["splide__pagination__current"],textContent:"1 / "}),Z("span",{classList:["splide__pagination__total"],textContent:"3"})]);o.prepend(e)}if(a.playToggleButtons&&!o.querySelector(".splide__toggle")){const e=Z("div",{classList:["splide__toggle"],type:"button"},`${'<svg class="splide__toggle__play" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m22 12-20 11v-22l10 5.5z"></path></svg>'}${'<svg class="splide__toggle__pause" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m2 1v22h7v-22zm13 0v22h7v-22z"></path></svg>'}`);o.prepend(e)}}}if(b?.bc_custom_elements?.bc_model_viewer&&i&&e.fullAccess&&(s.closest('li[data-index="0"]')||s.closest('li[data-index="1"]'))&&s.closest('li[data-controlkey="gltfLoadingMode"]')){const i=t.$_getElementNode(e.activeId,"iframe"),s=e.activeId;if(i){const l=i.availableAnimations;l&&l.length&&(setTimeout((()=>{const i=l.reduce(((e,t)=>(e[t]=t,e)),{});t.bricks.elements["bc-model-viewer"].controls.modelAnimationSelect.options=i,c&&c!==s?e.activeId=c:r&&r!==s&&(e.activeId=r)}),350),setTimeout((()=>{e.activeId=s,e.activePanelGroup="modelOptions"}),355))}}if(b?.bc_builder_tweaks?.bc_query_manager&&i&&e.fullAccess){const e=s.closest(".bricks-control-preview");e&&e.parentElement&&"query"===e.parentElement.getAttribute("data-control")&&setTimeout((()=>{if(e.nextElementSibling&&!document.getElementById("bc-query-manager")){const t=Z("div",{id:"bc-query-manager"},[Z("p",{classList:["bc-save-info"],textContent:"Query Manager ->"}),Z("div",{id:"bc-query-save","data-balloon":"Save as New Query Record","data-balloon-pos":"bottom-right"},'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="bricks-svg"><path d="M21.75 23.25H2.25a1.5 1.5 0 0 1 -1.5 -1.5V7.243a3 3 0 0 1 0.879 -2.121l3.492 -3.493A3 3 0 0 1 7.243 0.75H21.75a1.5 1.5 0 0 1 1.5 1.5v19.5a1.5 1.5 0 0 1 -1.5 1.5Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="M9.75 12.75a3 3 0 1 0 6 0 3 3 0 1 0 -6 0Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="m12.75 20.25 6.75 0" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="M8.25 0.75v3a1.5 1.5 0 0 0 1.5 1.5h7.5a1.5 1.5 0 0 0 1.5 -1.5v-3" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>'),Z("div",{id:"bc-query-select","data-balloon":"Select From Query Records","data-balloon-pos":"bottom-right"},'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="bricks-svg"><path d="M20.25 9.75v-3a1.5 1.5 0 0 0 -1.5 -1.5H8.25v-1.5a1.5 1.5 0 0 0 -1.5 -1.5h-4.5a1.5 1.5 0 0 0 -1.5 1.5v16.3a1.7 1.7 0 0 0 3.336 0.438l2.351 -9.657A1.5 1.5 0 0 1 7.879 9.75H21.75a1.5 1.5 0 0 1 1.45 1.886l-2.2 9a1.5 1.5 0 0 1 -1.45 1.114H2.447" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>')]);e.nextElementSibling&&e.nextElementSibling.prepend(t),document.getElementById("bc-query-manager").removeEventListener("click",X),document.getElementById("bc-query-manager").addEventListener("click",X)}}),280)}if(b?.bc_builder_tweaks?.bc_slim_left_panel&&"elements"===e.activePanel){const e=s.closest(".collapse, .expand");if(e&&"bc-category-toggle"===e.parentElement.id){const t=e.classList.contains("collapse"),i=t?e.previousElementSibling:e.nextElementSibling,s=t;i.classList.remove("hide"),e.classList.add("hide");n.querySelectorAll("#bricks-panel-elements-categories > li.category > .category-title").forEach((e=>{(s?e.classList.contains("expand"):!e.classList.contains("expand"))&&e.click()}))}}if(e.fullAccess&&i&&s.closest(".active-class")&&(b?.bc_builder_tweaks?.bc_preview_class_variables||A&&b?.bc_classes_variables?.bc_core_integration)&&setTimeout((()=>{if(e.showElementClasses){h=t.$_getElementNode(e.activeId,"iframe");const i=l.querySelector(".css-classes");i.lastChild.classList.add("other-classes"),i.lastChild.removeEventListener("mouseover",Y),i.lastChild.removeEventListener("mouseout",Y),i.lastChild.removeEventListener("mouseleave",Y),i.lastChild.addEventListener("mouseover",Y),i.lastChild.addEventListener("mouseout",Y),i.lastChild.addEventListener("mouseleave",Y)}}),300),e.fullAccess&&i&&"copyClipboardElementId"===s.id&&b?.bc_custom_elements?.bc_copy_clipboard){let e=!1;e||(s.addEventListener("change",ee),e=!0)}if(e.fullAccess&&i&&b?.bc_custom_elements?.bc_form_submission&&s.closest("li[data-index]")&&s.closest('li[data-controlkey="queryFormId"]')){let i,l=0;const n=e[e.templateType];n.length>0&&(i=n[l].id===e.activeId?n[l+1].id:n[l].id);const a=s.closest('div[data-control="select"]'),c=s.closest("li[data-index]").getAttribute("data-index"),r=Object.keys(t.bricks.elements["bc-form-submission"].controls.queryFormId.options),o=e.activeId,d=r[c];if(d&&ne(d,"submission",o,i),a&&a.previousElementSibling&&"excludeFormField"===a.previousElementSibling.getAttribute("for")&&e.activeElement.settings.hasOwnProperty("queryFormId")&&!Object.keys(t.bricks.elements["bc-form-submission"].controls.excludeFormField.options).length){const t=e.activeElement.settings.queryFormId,s=e.activeId;t&&ne(t,"submission",s,i)}}}else"mousedown"===i.type&&!0===i.isTrusted&&"bricks-panel-resizable"===s.id&&(v=!0,document.addEventListener("mousemove",te),document.addEventListener("mouseup",ie))}function Y(i){const s=i.target;if(i.stopImmediatePropagation(),"mouseover"===i.type&&!0===i.isTrusted)if(s.closest("li")&&s.closest("li").matches(":hover")&&s.closest("ul.other-classes")){if(h){B=s.closest("li").children[0].textContent.slice(1);const i=K(e.globalClasses,B);let l=t.$_generateCss("globalClass",i,[e.activeElement.name]);m.textContent=l,"bc-hide-in-canvas"!==B&&h.classList.add(B)}}else if(s.closest("li.variable-picker-item:not(.title)")&&s.closest("li.variable-picker-item:not(.title)").matches(":hover")&&s.closest("ul.dropdown.css-variables")){const e=`var(--${s.closest("li.variable-picker-item").children[0].textContent})`;u&&(u.value=e,u.dispatchEvent(new Event("input")))}else if(s.closest("li.color")&&s.closest("li.color").matches(":hover")&&s.closest("ul.color-palette.grid")){const e=s.closest("li.color").children[0].getAttribute("data-balloon");if(e.includes("#")){const t=e.match(/#[0-9a-fA-F]{6}\b/);u=s.closest(".bricks-control-popup").querySelector(".color-inputs > .hex input"),u&&(u.value=t,u.dispatchEvent(new Event("input")))}else e.includes("var(")&&(u=s.closest(".bricks-control-popup").querySelector(".color-inputs > .raw input"),u.value=e,u.dispatchEvent(new Event("input")))}if("mouseout"===i.type&&!0===i.isTrusted&&(s.closest("li")&&!s.closest("li").matches(":hover")&&s.closest("ul.other-classes")?h&&(h.classList.remove(B),m.textContent=""):s.closest("li.variable-picker-item:not(.title)")&&!s.closest("li.variable-picker-item:not(.title)").matches(":hover")&&s.closest("ul.dropdown.css-variables")?u&&p&&(u.value=p,u.dispatchEvent(new Event("input"))):s.closest("li.color")&&!s.closest("li.color").matches(":hover")&&s.closest("ul.color-palette.grid")&&u&&p&&(u.value=p,u.dispatchEvent(new Event("input")))),"mouseleave"===i.type&&!0===i.isTrusted&&((s.classList.contains("css-variables")||s.classList.contains("color-palette"))&&u&&(u.value=p,u.dispatchEvent(new Event("input"))),setTimeout((()=>{s.classList.contains("other-classes")&&s.closest(".css-classes")&&h&&(h.classList.remove(B),m.textContent="")}),50)),"mousedown"===i.type&&!0===i.isTrusted&&s.closest("li.color")&&s.closest("ul.color-palette.grid")){const e=s.closest("li.color").children[0].getAttribute("data-balloon");e.includes("#")?p=e.match(/#[0-9a-fA-F]{6}\b/):e.includes("var(")&&(p=e)}}function K(e,t){const i=e.find((e=>e.name===t));return i?i.id:null}function X(t){const i=t.target;t.stopImmediatePropagation();const s=e.panelWidth;if(attrObj=e.activeElement.settings._attributes,g.style.setProperty("--panel-width",`${s}px`),i.closest("#bc-query-save")){y.classList.contains("hide")||Q();w.children[1];const e=w.children[5].children[0].children[0];g.classList.remove("hide"),L.children[2].classList.add("hide"),x.classList.add("hide"),w.classList.remove("hide"),w.children[1].value="",w.children[3].value="",w.children[7].value="",w.children[3].classList.remove("disabled"),w.children[4].classList.remove("hide"),w.children[5].classList.remove("expand","hide"),w.children[5].children[0].children[0].classList.remove("input-value"),w.children[5].children[0].children[1].classList.add("hide"),f.classList.remove("hide"),f.children[0].classList.remove("hide"),f.children[1].classList.add("hide"),f.children[2].classList.add("hide");const t=w.children[5].lastChild.lastChild;t.innerHTML="",q&&q.length>0?(e.textContent="select one",q.forEach(((e,i)=>{const s=Z("li",{"data-index":i,"data-tag":e},[Z("span",{textContent:e})]);t.append(s)}))):e.textContent="No query record found"}else if(i.closest("#bc-query-select")){y.classList.contains("hide")||Q();const t=x.children[3].children[0].children[0],i=x.children[1].children[0].children[0],s=x.children[3].children[0].children[1],l=e.activeElement.settings._attributes;g.classList.remove("hide","confirm"),g.children[1].classList.add("hide"),L.children[2].classList.add("hide"),w.classList.add("hide"),x.classList.remove("hide"),x.children[1].classList.remove("expand"),x.children[1].children[0].children[1].classList.add("hide"),x.children[3].classList.remove("expand"),x.children[3].children[0].children[0].classList.remove("hide"),x.children[3].children[0].children[3].classList.add("hide"),x.children[3].children[0].children[4].classList.add("hide"),x.children[5].children[0].value="",x.children[5].children[0].classList.add("disabled"),x.children[5].children[1].classList.add("hide"),i.classList.remove("input-value"),t.classList.remove("input-value"),s.classList.add("hide"),f.classList.remove("hide"),f.children[0].classList.add("hide"),f.children[1].setAttribute("disabled","disabled"),f.children[2].setAttribute("disabled","disabled"),f.children[1].classList.remove("hide"),f.children[2].classList.remove("hide");const n=x.children[1].lastChild.lastChild;n.innerHTML="",q&&q.length>0?(i.textContent="select one",q.forEach(((e,t)=>{const i=Z("li",{"data-index":t,"data-tag":e},[Z("span",{textContent:e})]);n.append(i)}))):i.textContent="No query record found";const a=x.children[3].lastChild.lastChild;a.innerHTML="",C&&Object.keys(C).length>0?(t.textContent="select one",W("all","",a),l&&l.length>0&&l.forEach((e=>{"data-query-id"===e.name&&(x.children[3].children[0].children[0].textContent=C[e.value].qTitle,x.children[3].children[0].children[0].classList.add("input-value"),x.children[3].children[0].children[0].setAttribute("data-query-id",e.value),x.children[3].children[0].children[1].classList.remove("hide"),x.children[3].children[0].children[3].classList.remove("hide"),x.children[5].classList.add("input-value"),x.children[5].children[0].value=C[e.value].qDesc,x.children[5].children[1].classList.remove("hide"),x.children[5].children[0].classList.add("disabled"),k.classList.remove("hide"),E.codemirror.setValue(JSON.stringify(C[e.value].query,null,4)))}))):t.textContent="No query record found"}}function ee(i){let s="";const l=e.activeId,n=i.target.value,a=e[e.templateType];if(i.target.removeEventListener("change",ee),changeEvent=!1,a.some((e=>e.id===n)))e.activeId=n,t.$_setActiveElement(),e.activePanel="element",setTimeout((()=>{t.$_copyElements(),async function(){try{s=await navigator.clipboard.readText()}catch(e){s=!1,t.$_showMessage("Extract Element Json failed."),console.error("Failed to read clipboard contents:",e)}}(),e.activeId=l,e.activePanel="element"}),5),setTimeout((()=>{const e=document.querySelector('li[data-controlkey="copyClipboardElementJson"] textarea');if(!1!==s&&e){let t=JSON.parse(s);t.sourceUrl="",e.value=JSON.stringify(t),e.dispatchEvent(new Event("input"))}else e.value="",e.dispatchEvent(new Event("input"))}),300);else{const e=document.querySelector('li[data-controlkey="copyClipboardElementJson"] textarea');e&&(e.value="",e.dispatchEvent(new Event("input")),t.$_showMessage(`No Element found with Element Id ${n}.`))}}function te(e){v&&v&&g&&g.setAttribute("style",`--panel-width: ${s.offsetWidth}px`)}function ie(){v=!1,document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ie)}function se(e){if(e&&e.children&&e.children.length>0){const t=new Event("click");"arrow-right"===e.children[0].children[0].getAttribute("data-name")&&e.children[0].children[0].dispatchEvent(t),e.children[1]&&e.children[1].children&&Array.from(e.children[1].children).forEach((e=>{e.children&&e.children.length>0&&se(e)}))}}function le(e){if(e&&e.children&&e.children.length>0){const t=new Event("click",{bubbles:!1});if(e.children[1]&&e.children[1].children){Array.from(e.children[1].children).reverse().forEach((e=>{e.children&&e.children.length>0&&le(e)}))}e.children[1]&&e.children[1].children.length>0&&"arrow-down"===e.children[0].children[0].getAttribute("data-name")&&e.children[0].children[0].dispatchEvent(t)}}function ne(i,s,l,n){let a="";"submission"===s&&(a="bc_get_submission_form_fields"),jQuery.ajax({type:"POST",url:bc_builder_ajax.bc_builder_ajax_url,data:{action:a,nonce:t.bricks.nonce,groupKey:i},success:function(i){i.success&&"submission"===s&&(t.bricks.elements["bc-form-submission"].controls.excludeFormField.options=i.data.fields,e.activeId=n,setTimeout((()=>{e.activeId=l,e.activePanel="element"})))}})}l.addEventListener("mousedown",V),e.fullAccess&&(b?.bc_builder_tweaks?.bc_query_manager||b?.bc_classes_variables?.bc_core_integration)&&a.addEventListener("mousedown",V),c.addEventListener("mousedown",(function(i){const s=i.target;if("mousedown"===i.type&&!0===i.isTrusted&&s.closest("li")&&s.closest("li").hasAttribute("data-element-name")&&s.closest("#bc-right-shortcut-bar")){const i=s.closest("li").getAttribute("data-element-name"),l=document.getElementById("bc-right-shortcut-bar").children;if("action-bar"===i){if(l.length>15)for(let e=0;e<l.length;e++)e<15?l[e].classList.add("hide"):l[e].classList.remove("hide")}else if("new-element-bar"===i&&l.length>15)for(let e=0;e<l.length;e++)e>=15?l[e].classList.add("hide"):l[e].classList.remove("hide");if(!["action-bar","new-element-bar","hide-in-frontend","hide-in-canvas","toggle-children"].includes(i)){t.$_addNewElement({element:{name:i,settings:{}}});const s=e[e.templateType][e[e.templateType].length-1].id;setTimeout((()=>{e.activeId=s,e.activePanel="element"}),5)}if("hide-in-frontend"===i||"hide-in-canvas"===i){s.closest("li").classList.toggle("active");const t="hide-in-frontend"===i?"bc-hide-in-frontend":"hide-in-canvas"===i?"bc-hide-in-canvas":null,l=K(e.globalClasses,t),n=e[e.templateType];l&&n.forEach((e=>{const i=e.settings._cssGlobalClasses,n=e.id,a=c.querySelector(`li#element-${n} > .structure-item`),r=a.querySelector("ul.bc-actions");if(i&&i.includes(l))if(s.closest("li.active"))if(r)a.querySelector(`ul.bc-actions > li.${t.replace(/_/g,"-")}`).classList.remove("hide");else{const e=Z("li",{classList:["bc-action","bc-hide-in-frontend","hide"],"data-balloon":"Hide in Frontend","data-balloon-pos":"bottom-right",textContent:"HIF"}),i=Z("li",{classList:["bc-action","bc-hide-in-canvas","hide"],"data-balloon":"Hide in Canvas","data-balloon-pos":"bottom-right",textContent:"HIC"}),s=Z("ul",{classList:["bc-actions"]},[e,i]);a.insertBefore(s,a.children[a.children.length-1]),a.querySelector(`ul.bc-actions > li.${t.replace(/_/g,"-")}`).classList.remove("hide")}else r&&a.querySelector(`ul.bc-actions > li.${t.replace(/_/g,"-")}`).classList.add("hide");else r&&a.querySelector(`ul.bc-actions > li.${t.replace(/_/g,"-")}`).classList.add("hide")}))}if("toggle-children"===i){const t=s.closest('span[data-element-name="expand-all-childrens"]'),i=s.closest('span[data-element-name="collapse-all-childrens"]'),l=c.querySelector(".bricks-structure-list > li.active"),n=e.activeId;t?(t.classList.add("hide"),t.nextElementSibling.classList.remove("hide"),se(l),e.activeId=n):i&&(i.classList.add("hide"),i.previousElementSibling.classList.remove("hide"),le(l))}}})),i.addEventListener("mousedown",(function(t){const i=t.target;if("mousedown"===t.type&&!0===t.isTrusted){const t=i.closest("span.dark"),s=i.closest("span.light"),l=i.closest(".core-theme-mode-toggle"),n=i.closest("li.save");if(t&&l)t.classList.add("hide"),t.nextElementSibling.classList.remove("hide"),o.children[0].classList.add("cf-theme-dark");else if(s&&l)s.classList.add("hide"),s.previousElementSibling.classList.remove("hide"),o.children[0].classList.remove("cf-theme-dark");else if(n&&e.fullAccess&&b?.bc_builder_tweaks?.bc_query_manager){const t=e.unsavedChanges.includes("content"),i=e.history.some((e=>"deleted"===e._action));if(t&&i){const t=function(){let t=e.history.filter((e=>"deleted"===e._action)).map((e=>{let t=[];for(let i in e.content){let s=e.content[i];Array.isArray(s)&&s.id&&Array.isArray(s.id)&&s.id.forEach(((e,i)=>{let l=s.name[i];d.includes(l)&&t.push({id:e,name:l,settings:s.settings||{}})})),Array.isArray(s)&&s.forEach((e=>{e.name&&d.includes(e.name)&&t.push({id:e.id,name:e.name,settings:e.settings||{}})}))}return t})).flat(),i=t.filter(((e,t,i)=>t===i.findIndex((t=>t.id===e.id))));return i}();if(t.length>0)for(let e=0;e<t.length;e++)if(Object.keys(t[e].settings).length>0&&t[e].settings._attributes&&Array.isArray(t[e].settings._attributes))for(let i=0;i<t[e].settings._attributes.length;i++)if("data-query-id"===t[e].settings._attributes[i].name){U("","","","","","all");break}}}else if(!g.classList.contains("hide")){const e=new Event("mousedown");g.dispatchEvent(e)}}}))}document.addEventListener("DOMContentLoaded",(()=>{const e=bc_acf_options_page.optionSettings,t=document.getElementById("bricks-preloader");e?.bc_builder_tweaks?.bc_preloader_background&&(t.style.backgroundColor=e.bc_builder_tweaks.bc_preloader_background,t.querySelector(".title img").style.filter="invert(75%)"),window.addEventListener("load",(()=>{initBcBuilderApp()}))}));
