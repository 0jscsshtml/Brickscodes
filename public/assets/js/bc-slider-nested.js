function initSliderNestedPlus(){const t=document.querySelectorAll(".brxe-slider-nested");t.length&&t.forEach((t=>{const e=JSON.parse(t.getAttribute("data-splide")),i=t.getAttribute("data-script-id"),n=t.hasAttribute("data-sync-ids"),s=t.classList.contains("splide--ttb"),r=t.querySelector(".splide__slide__progress__bar"),o=t.querySelector(".splide__transition__progress__bar"),l=t.getAttribute("data-slider-progress-direction"),d=t.getAttribute("data-transition-progress-direction"),a=t.querySelector(".splide__pagination__fraction"),c=t.querySelector(".splide__toggle"),p=t.hasAttribute("data-hash-value"),u=t.getAttribute("data-hash-value"),h=t.hasAttribute("data-intersection"),g=t.hasAttribute("data-autoscroll"),{URLHash:_,AutoScroll:y,Intersection:S}=window.splide?.Extensions||{};let m;setTimeout((()=>{if(m=window.bricksData.splideInstances,p||g||h){let n={};if(m[i].destroy(),p){t.querySelectorAll(".splide__slide:not(.splide__slide--clone)").forEach(((t,e)=>{t.setAttribute("data-splide-hash",`${u}${e+1}`)})),n.URLHash=_}g&&(n.AutoScroll=y),h&&(n.Intersection=S);const o=new Splide(`div[data-script-id="${i}"]`,e).mount(n);m[i]=o,m=window.bricksData.splideInstances,g&&(m[i].on("active",(function(){if(!s&&r){var t=m[i].Components.Controller.getEnd()+1,e=Math.min((m[i].index+1)/t,1);r.style.width=String(100*e)+"%"}else if(s&&r){t=m[i].Components.Controller.getEnd()+1,e=Math.min((m[i].index+1)/t,1);r.style.height=String(100*e)+"%"}a&&(a.children[0].textContent=m[i].index+1)})),c&&(c.children[0].addEventListener("click",(t=>{t.stopImmediatePropagation(),t.preventDefault(),m[i].Components.AutoScroll.play()})),c.children[1].addEventListener("click",(t=>{t.stopImmediatePropagation(),t.preventDefault(),m[i].Components.AutoScroll.pause()}))))}const l=m[i].index+1,d=m[i].Components.Slides.getLength(!0);if(m[i].on("move",(function(){if(!s&&r){var t=m[i].Components.Controller.getEnd()+1,e=Math.min((m[i].index+1)/t,1);r.style.width=String(100*e)+"%"}else if(s&&r){t=m[i].Components.Controller.getEnd()+1,e=Math.min((m[i].index+1)/t,1);r.style.height=String(100*e)+"%"}a&&(a.children[0].textContent=m[i].index+1)})),m[i].on("autoplay:playing",(function(t){!s&&o?o.style.width=String(100*t)+"%":s&&o&&(o.style.height=String(100*t)+"%")})),!s&&r?r.style.width=l/d*100+"%":s&&r&&(r.style.height=l/d*100+"%"),a&&(a.children[0].textContent=l,a.children[1].textContent=d),n){const e=t.getAttribute("data-sync-ids").split(":");2===e.length&&i===e[0]&&document.querySelector(`.brxe-slider-nested[data-script-id="${e[1]}"]`)&&m[i].sync(m[e[1]])}}),250),l&&t.querySelector(".splide__slide__progress").setAttribute("dir",l),d&&t.querySelector(".splide__transition__progress").setAttribute("dir",d)}))}document.addEventListener("DOMContentLoaded",(()=>{initSliderNestedPlus()}));
